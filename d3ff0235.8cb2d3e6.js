(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{290:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(9),c=(n(0),n(329)),l={id:"Set-VSTeamAccount",title:"Set-VSTeamAccount",hide_title:!0,hide_table_of_contents:!1,custom_edit_url:"https://github.com/MethodsAndPractices/vsteam/edit/trunk/.docs/Set-VSTeamAccount.md",description:null,keywords:["vsteam","cmdlet","azure devops"]},o={id:"modules/vsteam/commands/Set-VSTeamAccount",isDocsHomePage:!1,title:"Set-VSTeamAccount",description:"Set-VSTeamAccount",source:"@site/docs/modules/vsteam/commands/Set-VSTeamAccount.md",permalink:"/vsteam-docs/docs/modules/vsteam/commands/Set-VSTeamAccount",editUrl:"https://github.com/MethodsAndPractices/vsteam/edit/trunk/.docs/Set-VSTeamAccount.md",sidebar:"vsteam",previous:{title:"Remove-VSTeamWorkItem",permalink:"/vsteam-docs/docs/modules/vsteam/commands/Remove-VSTeamWorkItem"},next:{title:"Set-VSTeamAlias",permalink:"/vsteam-docs/docs/modules/vsteam/commands/Set-VSTeamAlias"}},i=[{value:"SYNOPSIS",id:"synopsis",children:[]},{value:"SYNTAX",id:"syntax",children:[{value:"UNNAMED_PARAMETER_SET_1",id:"unnamed_parameter_set_1",children:[]},{value:"UNNAMED_PARAMETER_SET_2",id:"unnamed_parameter_set_2",children:[]},{value:"UNNAMED_PARAMETER_SET_3",id:"unnamed_parameter_set_3",children:[]},{value:"UNNAMED_PARAMETER_SET_4",id:"unnamed_parameter_set_4",children:[]}]},{value:"DESCRIPTION",id:"description",children:[]},{value:"EXAMPLES",id:"examples",children:[{value:"Example 1",id:"example-1",children:[]},{value:"Example 2",id:"example-2",children:[]},{value:"Example 3",id:"example-3",children:[]},{value:"Example 4",id:"example-4",children:[]},{value:"Example 5",id:"example-5",children:[]},{value:"Example 6",id:"example-6",children:[]},{value:"Example 7",id:"example-7",children:[]}]},{value:"PARAMETERS",id:"parameters",children:[{value:"-Account",id:"-account",children:[]},{value:"-Drive",id:"-drive",children:[]},{value:"-Force",id:"-force",children:[]},{value:"-Level",id:"-level",children:[]},{value:"-PersonalAccessToken",id:"-personalaccesstoken",children:[]},{value:"-Profile",id:"-profile",children:[]},{value:"-SecurePersonalAccessToken",id:"-securepersonalaccesstoken",children:[]},{value:"-UseBearerToken",id:"-usebearertoken",children:[]},{value:"-UseWindowsAuthentication",id:"-usewindowsauthentication",children:[]},{value:"-Version",id:"-version",children:[]},{value:"-Confirm",id:"-confirm",children:[]},{value:"-WhatIf",id:"-whatif",children:[]},{value:"CommonParameters",id:"commonparameters",children:[]}]},{value:"INPUTS",id:"inputs",children:[]},{value:"OUTPUTS",id:"outputs",children:[]},{value:"NOTES",id:"notes",children:[]},{value:"RELATED LINKS",id:"related-links",children:[]}],s={rightToc:i};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"set-vsteamaccount"},"Set-VSTeamAccount"),Object(c.b)("h2",{id:"synopsis"},"SYNOPSIS"),Object(c.b)("p",null,"Stores your account name and personal access token for use with the other functions in this module."),Object(c.b)("h2",{id:"syntax"},"SYNTAX"),Object(c.b)("h3",{id:"unnamed_parameter_set_1"},"UNNAMED_PARAMETER_SET_1"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount [-Account] <String> [-Version] <String> -SecurePersonalAccessToken <SecureString>\n [-Level <String>] [-UseBearerToken] [-Drive <String>] [-Force] [-WhatIf] [-Confirm] [<CommonParameters>]\n")),Object(c.b)("h3",{id:"unnamed_parameter_set_2"},"UNNAMED_PARAMETER_SET_2"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount [-Account] <String> [-PersonalAccessToken] <String> [-Version] <String> [-Level <String>]\n [-UseBearerToken] [-Drive <String>] [-Force] [-WhatIf] [-Confirm] [<CommonParameters>]\n")),Object(c.b)("h3",{id:"unnamed_parameter_set_3"},"UNNAMED_PARAMETER_SET_3"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount [-Account] <String> [-Version] <String> [-Level <String>] [-UseWindowsAuthentication]\n [-Drive <String>] [-Force] [-WhatIf] [-Confirm] [<CommonParameters>]\n")),Object(c.b)("h3",{id:"unnamed_parameter_set_4"},"UNNAMED_PARAMETER_SET_4"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Profile <String> [-Drive <String>] [-Force] [-WhatIf] [-Confirm] [<CommonParameters>]\n")),Object(c.b)("h2",{id:"description"},"DESCRIPTION"),Object(c.b)("p",null,"On Windows you have to option to store the information at the process, user or machine (you must be running PowerShell as administrator to store at the machine level) level."),Object(c.b)("p",null,"On Linux and Mac you can only store at the process level."),Object(c.b)("p",null,"Calling Set-VSTeamAccount will clear any default project."),Object(c.b)("h2",{id:"examples"},"EXAMPLES"),Object(c.b)("h3",{id:"example-1"},"Example 1"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount\n")),Object(c.b)("p",null,"You will be prompted for the account name and personal access token."),Object(c.b)("h3",{id:"example-2"},"Example 2"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Account mydemos -PersonalAccessToken 7a8ilh6db4aforlrnrthisisnotreal4uhlh5vgbmgap3mziwnga\n")),Object(c.b)("p",null,"Allows you to provide all the information on the command line."),Object(c.b)("h3",{id:"example-3"},"Example 3"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Account http://localtfs:8080/tfs/DefaultCollection -UseWindowsAuthentication\n")),Object(c.b)("p",null,"On Windows, allows you use to use Windows authentication against a local TFS server."),Object(c.b)("h3",{id:"example-4"},"Example 4"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Profile demonstrations\n")),Object(c.b)("p",null,"Will add the account from the profile provided."),Object(c.b)("h3",{id:"example-5"},"Example 5"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Profile demonstrations -Drive demo | Invoke-Expression\nSet-Location demo:\nPS demo:\\> Get-ChildItem\n")),Object(c.b)("p",null,"Will add the account from the profile provided and mount a drive named demo that you can navigate like a file system.\nIf you do not pipe to Invoke-Expression you can simply copy and paste the output and execute it."),Object(c.b)("h3",{id:"example-6"},"Example 6"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Profile demonstrations -Level Machine\n")),Object(c.b)("p",null,"Will add the account from the profile provided and store the information at the Machine level.\nNow any new PowerShell sessions will auto load this account."),Object(c.b)("p",null,"Note: You must run PowerShell as an Administrator to store at the Machine level."),Object(c.b)("h3",{id:"example-7"},"Example 7"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"Set-VSTeamAccount -Account mydemos -Token $(System.AccessToken) -UseBearerToken\n")),Object(c.b)("p",null,"Will add the account and use the OAuth Token provided by AzD when you check the Allow scripts to access OAuth token checkbox on the phase.\nUsing this method removes the need to create a Personal Access Token.\nNote -Token is just an alias for -PersonalAccessToken.\nThe token is scoped to only allow access to the account running the build or release.\nTo access other accounts you will have to use a personal access token."),Object(c.b)("h2",{id:"parameters"},"PARAMETERS"),Object(c.b)("h3",{id:"-account"},"-Account"),Object(c.b)("p",null,"The Azure DevOps (AzD) account name to use.\nDO NOT enter the entire URL."),Object(c.b)("p",null,"Just the portion after dev.azure.com.\nFor example in the following url mydemos is the account name.\n\\",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://dev.azure.com/mydemos%5C"}),"https://dev.azure.com/mydemos\\")," or The full Team Foundation Server (TFS) url including the collection.\n\\",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://localhost:8080/tfs/DefaultCollection%5C"}),"http://localhost:8080/tfs/DefaultCollection\\")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: String\nParameter Sets: UNNAMED_PARAMETER_SET_1, UNNAMED_PARAMETER_SET_2, UNNAMED_PARAMETER_SET_3\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-drive"},"-Drive"),Object(c.b)("p",null,"The name of the drive you want to mount to this account.\nThe command you need to run will be presented.\nSimply copy and paste the command to mount the drive.\nTo use the drive run Set-Location ","[","driveName","]",":"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-force"},"-Force"),Object(c.b)("p",null,"Forces the function without confirmation."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-level"},"-Level"),Object(c.b)("p",null,"On Windows allows you to store your account information at the Process, User or Machine levels.\nWhen saved at the User or Machine level your account information will be in any future PowerShell processes."),Object(c.b)("p",null,"To store at the Machine level you must be running PowerShell as an Administrator."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: String\nParameter Sets: UNNAMED_PARAMETER_SET_1, UNNAMED_PARAMETER_SET_2, UNNAMED_PARAMETER_SET_3\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-personalaccesstoken"},"-PersonalAccessToken"),Object(c.b)("p",null,"The personal access token from AzD/TFS to use to access this account."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: String\nParameter Sets: UNNAMED_PARAMETER_SET_2\nAliases: Token\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-profile"},"-Profile"),Object(c.b)("p",null,"The profile name stored using Add-VSTeamProfile function.\nYou can tab complete through existing profile names."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: String\nParameter Sets: UNNAMED_PARAMETER_SET_4\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-securepersonalaccesstoken"},"-SecurePersonalAccessToken"),Object(c.b)("p",null,"A secured string to capture your personal access token."),Object(c.b)("p",null,"This will allow you to provide your personal access token without displaying it in plain text."),Object(c.b)("p",null,"To use pat simply omit it from the Set-VSTeamAccount command."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: SecureString\nParameter Sets: UNNAMED_PARAMETER_SET_1\nAliases: PAT\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-usebearertoken"},"-UseBearerToken"),Object(c.b)("p",null,"Switches the authorization from Basic to Bearer.\nYou still use the PAT for PersonalAccessToken parameters to store the token."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: SwitchParameter\nParameter Sets: UNNAMED_PARAMETER_SET_1, UNNAMED_PARAMETER_SET_2\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-usewindowsauthentication"},"-UseWindowsAuthentication"),Object(c.b)("p",null,"Allows the use of the current user's Windows credentials to authenticate against a local Team Foundation Server or Azure DevOps Server.\nThis cannot be used to connect to Azure DevOps Services."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: SwitchParameter\nParameter Sets: UNNAMED_PARAMETER_SET_3\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-version"},"-Version"),Object(c.b)("p",null,"Specifies the version to use.\nThe acceptable values for this parameter are:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"TFS2017"),Object(c.b)("li",{parentName:"ul"},"TFS2017U1"),Object(c.b)("li",{parentName:"ul"},"TFS2017U2"),Object(c.b)("li",{parentName:"ul"},"TFS2017U3"),Object(c.b)("li",{parentName:"ul"},"TFS2018"),Object(c.b)("li",{parentName:"ul"},"TFS2018U1"),Object(c.b)("li",{parentName:"ul"},"TFS2018U2"),Object(c.b)("li",{parentName:"ul"},"TFS2018U3"),Object(c.b)("li",{parentName:"ul"},"AzD2019"),Object(c.b)("li",{parentName:"ul"},"AzD2019U1"),Object(c.b)("li",{parentName:"ul"},"VSTS"),Object(c.b)("li",{parentName:"ul"},"AzD")),Object(c.b)("p",null,"If you are on AzD it will default to Azd otherwise it will default to TFS2017."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: String\nParameter Sets: UNNAMED_PARAMETER_SET_1, UNNAMED_PARAMETER_SET_2, UNNAMED_PARAMETER_SET_3\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: TFS2017 for TFS and AzD for AzD\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-confirm"},"-Confirm"),Object(c.b)("p",null,"Prompts you for confirmation before running the function."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: SwitchParameter\nParameter Sets: (All)\nAliases: cf\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"-whatif"},"-WhatIf"),Object(c.b)("p",null,"Shows what would happen if the function runs.\nThe function is not run."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"Type: SwitchParameter\nParameter Sets: (All)\nAliases: wi\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n")),Object(c.b)("h3",{id:"commonparameters"},"CommonParameters"),Object(c.b)("p",null,"This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://go.microsoft.com/fwlink/?LinkID=113216"}),"about_CommonParameters"),"."),Object(c.b)("h2",{id:"inputs"},"INPUTS"),Object(c.b)("h2",{id:"outputs"},"OUTPUTS"),Object(c.b)("h2",{id:"notes"},"NOTES"),Object(c.b)("p",null,"Prerequisites:"),Object(c.b)("p",null,"Set the account and version that all calls will use with Set-VSTeamAccount.\nIf you do not set the version it default to 3.0, TFS2017.\nUsing the default could limit API functionality."),Object(c.b)("p",null,"You can check what version of the API that will be called with Get-VSTeamAPIVersion, or Get-VSTeamInfo."),Object(c.b)("p",null,"You can also use Set-VSTeamDefaultProject so you do not have to provide the -ProjectName parameter with the rest of the calls in the module.\nHowever, the -ProjectName parameter is dynamic and you can use tab completion to cycle through all the projects."),Object(c.b)("p",null,"Use Set-VSTeamDefaultAPITimeout to change the default timeout of 60 seconds for all calls."),Object(c.b)("p",null,"You can also use Profiles to load an account and the correct version."),Object(c.b)("h2",{id:"related-links"},"RELATED LINKS"),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"Set-VSTeamAccount")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"Set-VSTeamAPIVersion")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"Set-VSTeamDefaultProject")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"Set-VSTeamDefaultAPITimeout")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"about_vsteam")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"about_vsteam_profiles")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"about_vsteam_provider")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"Add-VSTeamProfile")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:""}),"Clear-VSTeamDefaultProject")))}u.isMDXComponent=!0},329:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,d=p["".concat(l,".").concat(m)]||p[m]||b[m]||c;return n?r.a.createElement(d,o(o({ref:t},s),{},{components:n})):r.a.createElement(d,o({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,l=new Array(c);l[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var s=2;s<c;s++)l[s]=n[s];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);